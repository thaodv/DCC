{"version":3,"sources":["webpack:///./src/common/src/common/loading.vue","webpack:///./src/components/contracts/src/components/contracts/detail.vue"],"names":[],"mappings":";AAyBA;EACA;EACA;EACA;EACA;EACA;EACA;CACA;AACA;EACA;EACA;EACA;CACA;AAEA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;CACA;AAEA;EACA;EACA;EACA;CACA;AAEA;EACA;EACA;CACA;AAEA;EACA;EACA;CACA;AAEA;CAAA;AACA;CAAA;AACA;CAAA;AACA;CAAA;AAEA;EACA;EACA;CACA;AAEA;EACA;EACA;CACA;AAEA;EACA;EACA;CACA;AAEA;EACA;EACA;CACA;AAEA;EACA;EACA;CACA;AAEA;EACA;EACA;CACA;AAEA;EACA;EACA;CACA;AAEA;EACA;EACA;CACA;AAEA;EACA;EACA;CACA;AAEA;EACA;EACA;CACA;AAEA;EACA;EACA;CACA;AAEA;AACA;CAAA;AACA;CAAA;CACA;AAEA;AACA;IACA;IACA;CACA;AAAA;IACA;IACA;CACA;CACA;;;AC4CA;EACA;EACA;CACA;AACA;EACA;EACA;CACA;AAEA;EACA;CACA;AACA;EACA;CACA;AACA;EACA;EACA;CACA;AACA;EACA;EACA;EACA;CACA;AACA;EACA;CACA;AACA;EACA;EACA;EACA;CACA;AACA;EACA;EACA;EACA;EACA;EACA;EACA;CACA;AACA;EACA;EACA;EACA;EACA;EACA;CACA;AACA;EACA;EACA;CACA","file":"static/css/9.9.css","sourcesContent":["<template>\r\n  <div class=\"loading\">\r\n   <div class=\"spinner\">\r\n  <div class=\"spinner-container container1\">\r\n    <div class=\"circle1\"></div>\r\n    <div class=\"circle2\"></div>\r\n    <div class=\"circle3\"></div>\r\n    <div class=\"circle4\"></div>\r\n  </div>\r\n  <div class=\"spinner-container container2\">\r\n    <div class=\"circle1\"></div>\r\n    <div class=\"circle2\"></div>\r\n    <div class=\"circle3\"></div>\r\n    <div class=\"circle4\"></div>\r\n  </div>\r\n  <div class=\"spinner-container container3\">\r\n    <div class=\"circle1\"></div>\r\n    <div class=\"circle2\"></div>\r\n    <div class=\"circle3\"></div>\r\n    <div class=\"circle4\"></div>\r\n  </div>\r\n</div>\r\n  </div>\r\n</template>\r\n<style>\r\n.loading{\r\n  font-size:14px;\r\n  position: absolute;\r\n  left:50%;\r\n  top:50%;\r\n  transform: translate(-50%,-50%);\r\n  z-index:30;\r\n}\r\n.spinner {\r\n  width: 40px;\r\n  height: 40px;\r\n  position: relative;\r\n}\r\n \r\n.container1 > div, .container2 > div, .container3 > div {\r\n  width: 6px;\r\n  height: 6px;\r\n  background-color: #000;\r\n \r\n  border-radius: 100%;\r\n  position: absolute;\r\n  -webkit-animation: bouncedelay 1.2s infinite ease-in-out;\r\n  animation: bouncedelay 1.2s infinite ease-in-out;\r\n  -webkit-animation-fill-mode: both;\r\n  animation-fill-mode: both;\r\n}\r\n \r\n.spinner .spinner-container {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n \r\n.container2 {\r\n  -webkit-transform: rotateZ(45deg);\r\n  transform: rotateZ(45deg);\r\n}\r\n \r\n.container3 {\r\n  -webkit-transform: rotateZ(90deg);\r\n  transform: rotateZ(90deg);\r\n}\r\n \r\n.circle1 { top: 0; left: 0; }\r\n.circle2 { top: 0; right: 0; }\r\n.circle3 { right: 0; bottom: 0; }\r\n.circle4 { left: 0; bottom: 0; }\r\n \r\n.container2 .circle1 {\r\n  -webkit-animation-delay: -1.1s;\r\n  animation-delay: -1.1s;\r\n}\r\n \r\n.container3 .circle1 {\r\n  -webkit-animation-delay: -1.0s;\r\n  animation-delay: -1.0s;\r\n}\r\n \r\n.container1 .circle2 {\r\n  -webkit-animation-delay: -0.9s;\r\n  animation-delay: -0.9s;\r\n}\r\n \r\n.container2 .circle2 {\r\n  -webkit-animation-delay: -0.8s;\r\n  animation-delay: -0.8s;\r\n}\r\n \r\n.container3 .circle2 {\r\n  -webkit-animation-delay: -0.7s;\r\n  animation-delay: -0.7s;\r\n}\r\n \r\n.container1 .circle3 {\r\n  -webkit-animation-delay: -0.6s;\r\n  animation-delay: -0.6s;\r\n}\r\n \r\n.container2 .circle3 {\r\n  -webkit-animation-delay: -0.5s;\r\n  animation-delay: -0.5s;\r\n}\r\n \r\n.container3 .circle3 {\r\n  -webkit-animation-delay: -0.4s;\r\n  animation-delay: -0.4s;\r\n}\r\n \r\n.container1 .circle4 {\r\n  -webkit-animation-delay: -0.3s;\r\n  animation-delay: -0.3s;\r\n}\r\n \r\n.container2 .circle4 {\r\n  -webkit-animation-delay: -0.2s;\r\n  animation-delay: -0.2s;\r\n}\r\n \r\n.container3 .circle4 {\r\n  -webkit-animation-delay: -0.1s;\r\n  animation-delay: -0.1s;\r\n}\r\n \r\n@-webkit-keyframes bouncedelay {\r\n  0%, 80%, 100% { -webkit-transform: scale(0.0) }\r\n  40% { -webkit-transform: scale(1.0) }\r\n}\r\n \r\n@keyframes bouncedelay {\r\n  0%, 80%, 100% {\r\n    transform: scale(0.0);\r\n    -webkit-transform: scale(0.0);\r\n  } 40% {\r\n    transform: scale(1.0);\r\n    -webkit-transform: scale(1.0);\r\n  }\r\n}\r\n</style>\r\n\r\n","<template>\r\n  <div class=\"row contractDetail\">\r\n    <div class=\"row\">\r\n        <div class=\"container top-title-wrap search\"><span class=\"title\">Contract Name：</span><small id=\"block-number\">{{description.name}}</small></div>\r\n    </div>\r\n    <div style=\"padding: 0 10px\" class=\"container search\">\r\n        <div class=\"row\">\r\n            <div class=\"section-title\">Description</div>\r\n        </div>\r\n        <div class=\"row section-body\">\r\n            {{description.desc}}\r\n        </div>\r\n        <Loading v-show=\"loadStatus\"></Loading>\r\n        <div class=\"row\">\r\n            <div class=\"section-title\">Data query</div>\r\n        </div>\r\n        <div class=\"row section-body\">\r\n            <table class=\"detail-table\">\r\n                <tr>\r\n                    <td>Contract Name：</td>\r\n                    <td>{{description.name}}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Contract Address:</td>\r\n                  <td>{{params}}</td>\r\n                </tr>\r\n                <tr>\r\n                    <td>Query method：</td>\r\n                    <td>{{description.methods && description.methods[\"en\"]}}</td>\r\n                </tr>\r\n                <tr>\r\n                    <td>Address:</td>\r\n                    <td>\r\n                      <input type=\"text\" class=\"form-control\" placeholder=\"Please enter your wallet address\" v-model=\"userAccount\" @keyup.enter=\"query()\"/>\r\n                      <button class=\"btn s-btn\" @click=\"query()\">SEARCH</button>\r\n                    </td>\r\n                </tr>\r\n                <tr style=\"margin-bottom:10px;\">\r\n                    <td style=\"vertical-align:top\">Search Result：</td>\r\n                    <td class=\"g-result\">\r\n                      <div class=\"s-bg\">\r\n                        <div v-for=\"(val,item) in originResult\" :key=\"item\" v-if=\"typeof originResult !== 'string'\">{{item}}：{{val}}</div>\r\n                        <div v-else>{{originResult}}</div>\r\n                      </div>\r\n                    </td>\r\n                </tr>\r\n                <tr v-show=\"result\">\r\n                    <td style=\"vertical-align:top\" >Explanation：</td>\r\n                    <td class=\"g-result\">\r\n                      <div class=\"s-bg\">\r\n                        <div v-if=\"typeof result !== 'string'\">\r\n                          <div v-for=\"(val,item) in result\" :key=\"item\">{{item}}：{{val}}</div>\r\n                        </div>\r\n                        <div  v-else>{{result}}</div>\r\n                      </div>\r\n                    </td>\r\n                </tr>\r\n               \r\n            </table>\r\n        </div>\r\n    </div>\r\n</div>\r\n</template>\r\n<script>\r\nimport Loading from \"@/common/loading\"\r\nimport {description} from \"./description.js\"\r\nimport {timestamp} from '@/filters.js'\r\nconst abi = require('ethjs-abi');\r\nimport web3 from 'web3'\r\nimport ABI from './abi.js'\r\nexport default {\r\n  data(){\r\n    return{\r\n      params:\"\",\r\n      name:\"\",\r\n      summary:{},\r\n      detail:{},\r\n      userAccount:\"\",\r\n      loadStatus:false,\r\n      maxHeight:true,\r\n      description:\"\",\r\n      originResult:\"\",\r\n      result:\"\"\r\n    }\r\n  },\r\n  components:{Loading},\r\n  methods:{\r\n    pagechange(cur){\r\n      this.initDetail(cur);\r\n    },\r\n    query(){\r\n      let that = this;\r\n      this.result=this.originResult=\"\"\r\n     if(this.userAccount && this.userAccount.length ==42){\r\n        if(this.description.name==\"IPFS Data Storage\"){\r\n         // ipfs合约需要查询三项认证的接口\r\n          class Interface{\r\n            constructor(description,provider,contract,i){\r\n              this.description = description;//合约描述文件\r\n              this.provider = provider;//网关地址\r\n              this.abiNum = this.description.abi[i];//abi的第几个方法\r\n              this.contract = contract;//合约地址\r\n              this.e ={};//web3\r\n              this.n ={};\r\n              this.init();\r\n            }\r\n            //初始化合约\r\n            init(){\r\n              this.e = window.web3;\r\n              this.n = (this.e = new Web3(new Web3.providers.HttpProvider(this.provider))).eth.contract(this.description.abi).at(this.contract)\r\n            }\r\n            // 对data进行编码\r\n            encode(userAccount,IdentityAddress){\r\n              let _this = this;\r\n              try{\r\n                 let encodeData = abi.encodeEvent(_this.abiNum,[userAccount,IdentityAddress]);\r\n                  return encodeData;\r\n              }catch(err){\r\n                that.$toast.top(\"Query error, invalid address value.\");\r\n              }\r\n             \r\n            }\r\n            // web3请求网关\r\n            use(userAccount,IdentityAddress){\r\n              let _this = this;\r\n              let encodeData = _this.encode(userAccount,IdentityAddress);\r\n              return  new Promise(function(resolve,reject){\r\n                if(encodeData){\r\n                   var balance =_this.e.eth.call({\"data\":encodeData,\"to\":_this.contract});\r\n                    let decodeData =abi.decodeMethod(_this.abiNum,balance)\r\n                    let {_userAddress,_contractAddress,_version,_cipher,_token,_iv,_digest1,_digest2,_keyHashVersion} = decodeData;\r\n                    let res = {_userAddress,_contractAddress,_version,_cipher,_token,_iv,_digest1,_digest2,_keyHashVersion}\r\n                    resolve(res);\r\n                }else{\r\n                  resolve(\"\")\r\n                }\r\n               \r\n              })\r\n            }\r\n          }\r\n          let i = new Interface(this.description,'https://explorer.dcc.finance/passport-gateway/restful/contract/1/web3/ipfs_metadata','0x1dddff96d22f5f46c06fef20a903f1d5bc38d628',6);\r\n          let a1 = i.use(this.userAccount,\"0xe1a903ed503cf7388b4f5f328b372081c95ebe4f\")\r\n          let a2 = i.use(this.userAccount,\"0xbbe73e925ab76bb015730651aae34db990046d9e\")\r\n          let a3 =  i.use(this.userAccount,\"0x819089c21a0206d83aa2857725b6abdf21f49a15\")\r\n\r\n          Promise.all([a1,a2,a3]).then(res=>{\r\n            that.originResult = res;\r\n            that.result = {\"Identity Data Token\":res[0][\"_token\"],\"Bankcard Data Token\":res[1][\"_token\"],\"Call Records Data Token\":res[2][\"_token\"]};\r\n          }).catch(res=>{\r\n            that.result = \"Query error, please try again later.\"\r\n          })\r\n        }else{\r\n          this.$axios.get1(`https://explorer.dcc.finance/passport-gateway/restful/dcc/cert/2/${this.description.business}/getData`,{\"address\":this.userAccount}).then(res=>{\r\n            that.originResult = res.result.content;\r\n            const {digest1,digest2,expired} = res.result.content;\r\n            let obj = {};\r\n            if(digest1 && digest2){\r\n              const key1 =this.description.methods.cn+\" Abstract Data1\";\r\n              const key2 = this.description.methods.cn + \" Abstract Data2\";\r\n              obj[key1]= digest1,obj[key2]= digest2;\r\n            }else{\r\n                const key1 =this.description.methods.cn+\" Abstract Data\";\r\n                obj[key1]= digest1;\r\n            }\r\n            obj['Expire Time'] = expired>0? timestamp(expired,'yy-mm-dd') :\"\";\r\n            that.result = JSON.parse(JSON.stringify(obj));\r\n          }).catch(res=>{\r\n            that.result = \"Query error, please try again later.\"\r\n          })\r\n        }\r\n     }else{\r\n        this.$toast.top(\"The address should be 42 characters\")\r\n     }\r\n    }\r\n  },\r\n  mounted(){\r\n    let data = this.$route.params.aid.split('&');\r\n    this.params = data[0];\r\n    let code = data[1].split(\"=\")[1];\r\n    this.description = description[code]\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.contractDetail .section-body{\r\n  line-height:24px;\r\n  margin-bottom:20px!important;\r\n}\r\n.contractDetail .search{\r\n  float:none;\r\n  margin:0 auto 20px;\r\n}\r\n\r\n.contractDetail table tr td:first-child{\r\n  width:120px;\r\n}\r\n.contractDetail table tr td{\r\n  white-space: nowrap;\r\n}\r\n.contractDetail .form-control{\r\n  display:inline-block;\r\n  width:360px;\r\n}\r\n.contractDetail .top-title-wrap{\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n}\r\n.contractDetail .detail-table td{\r\n  height:60px;\r\n}\r\n.contractDetail td.g-result{\r\n  width:900px;\r\n  height:120px;\r\n  padding:10px 0px;\r\n}\r\n.contractDetail td.g-result .s-bg{\r\n  width:100%;\r\n  height:100%;\r\n  min-height:110px;\r\n  white-space: normal;\r\n  padding-left:10px;\r\n  background:#eaeaea;\r\n}\r\n.s-btn{\r\n  background:#7875e7;\r\n  color:#fff;\r\n  height:35px;\r\n  margin-top:-4px;\r\n  outline:none;\r\n}\r\n.s-btn:hover, .s-btn:focus, .s-btn.focus,.btn:focus, .btn:active:focus, .btn.active:focus, .btn.focus, .btn:active.focus, .btn.active.focus{\r\n  color:#fff;\r\n  outline:none;\r\n}\r\n</style>\r\n\r\n"],"sourceRoot":""}